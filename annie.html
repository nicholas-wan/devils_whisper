<!DOCTYPE html>

<html>
  <head>
    <title>Annie"s Story</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale = 1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <link rel="shortcut icon" type="image/png" href="images/favicon.png" />
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" />
    <!-- main wavesurfer.js lib -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/wavesurfer.js/1.2.3/wavesurfer.min.js"></script>
  </head>
  <body class="is-preload">
    <!-- Wrapper -->
    <div id="wrapper">
      <a href="#header" id="return-to-top" style="display: inline"><i class="icon fa-chevron-up"></i></a>

      <!-- Header -->
      <header id="header">
        <a href="index.html" class="logo icon fa-home"></a>
      </header>

      <!-- Nav -->
      <nav id="nav">
        <ul class="links">
          <li><a href="index.html">Home</a></li>
          <li class="active"><a href="annie.html">Annie</a></li>
          <li><a href="about.html">About</a></li>
        </ul>
      </nav>

      <!-- Main -->
      <div id="main" class="homepage">
        <!-- Featured Post -->
		<article class="mainpost">

          <header class="major">
            <h2>Background</h2>
            <img src="images/student-black.png" alt="" style="width: 10%" />
            <p style="font-family: courier new">Annie</p>

            <p class="aboutblock">
              Annie is a tech savvy student. She uses smart devices like iphones and Google Home. She tends to communicate with friends and family over whatsapp, and is likely to send and receive
              media over whatsapp, including photos, videos, and links.
            </p>
          </header>
        </article>

        <article class="mainpost">
          <header>
            <span class="date" style="text-align: center">July 2020</span>
            <h2 style="text-align: center">After a long school day</h2>
          </header>
          <div class="image fit">
            <img class="svimg" src="images/living_room.jpeg" alt="" style="object-fit:cover;"/>
          </div>
          <br />
          <p class="aboutblock">
            One day after school, Annie turns on her Google Home smart device to listen to some music. Annie"s Google Home asks her to update the device software, but Annie was not interested and lazy
            to do so.
          </p>
          <ul class="actions special">
            <button onclick="HideFunction()" id="myBtn" class="primary">Ignore the update</button>
          </ul>
        </article>

        <span id="hideme" style="display: none; border:none;">
          <article class="mainpost">
            <header>
              <span class="date" style="text-align: center"> October 2020</span>
              <h2 style="text-align: center">A few months later</h2>
            </header>
            <div class="image fit">
              <img class="svimg" src="images/whatsapp.jpeg" alt="" style="object-fit:cover;"/>
              <br />
              <p class="aboutblock">
                For a few months, Annie did not update her Google Home"s software, despite the reminders from the device"s application. One day, she was at home using her computer while she received a
                whatsapp notifcation.
              </p>
            </div>
            <br />

            <div class="videorow">
              <video width="100%" onended="showButton()" controls>
                <source src="videos/annie_full_compressed.mp4" id="vid" type="video/mp4" />
                Your browser does not support the video tag.
              </video>
            </div>
            <br />
            <ul class="actions special">
              <h4 id="watchtoproceed">Watch the video above to proceed with the story</h4>

              <button onclick="HideFunction2()" id="myBtn2" class="primary" style="display: none">What Happened?</button>
            </ul>
          </article>
          <span id="hideme2">
            <article class="mainpost">
              <header>
                <h2 style="text-align: center;">What Happened next</h2>
              </header>
              <div class="image fit">
                <img class="svimg" src="images/google_home.png" alt="" style="object-fit:cover;"/>
                <br />
                <p class="aboutblock">
                  The advertisement contained a hidden voice attack that targetted smart home assistants. Fortunately, the attacker did not have any malicious intentions and only used a benign command
                  to "Play Music"
                </p>
              </div>
            </article>

            <article class="mainpost">
				<header>
					<h2 style="text-align:center;">Audio Waveforms</h2>
					<div class="waveform-container">
						<div class="cardbody">
						  <h3 class="waveform-header">Clean Audio Waveform</h3>
						  <div class="card">
							<div id="waveform"></div>
						  </div>
						  <div class="card-footer">
							<button class="btn btn-primary waveform-button" onclick="wavesurfer.playPause()">
							  <i class="fa fa-play"></i>
							  Play
							</button>
						  </div>
						</div>
					  </div>
					  <br />
			
					  <div class="waveform-container">
						<div class="cardbody">
						  <h3 class="waveform-header">Adversarial Audio Waveform</h3>
						  <div class="card">
							<div id="waveform2"></div>
						  </div>
						  <div class="card-footer">
							<button class="btn btn-primary waveform-button waveform-button2" onclick="wavesurfer2.playPause()">
							  <i class="fa fa-play"></i>
							  Play
							</button>
						  </div>
						</div>
					  </div>
				</header>

			</article>

            <article class="mainpost">

            <div class="row">
              <header>
                <h2 style="text-align: center">How can we prevent this?</h2>
              </header>
              <br />
              <ul>
                <li>Regularly update your devices to the latest build or software version. </li>
                <li>Avoid clicking on suspicious links.</li> 
                <li>Avoid forwarding chain messages and do not leave devices unattended, especially in public areas. </li>
                <li>Use a password manager like lastpass - Lastpass remembers which websites you visited and the passwords. If there is a lookalike fake website, (e.g facebo0k.com), it will not remember the password.</li> 
                <li>If you think your password has been compromised, change your password immediately</li>
              </ul>
            </div>
			</article>
		</span>
	</span>
      </div>

      <!-- Footer -->
      <footer id="footer">
        <section class="split contact">
          <section>
            <h3><a href="about.html">About</a></h3>
            <ul class="icons alt">
              <li>
                <a href="about.html" class="icon fa fa-question"><span class="label">Email</span></a>
              </li>
            </ul>
          </section>
        </section>
      </footer>
    </div>
  </body>
</html>

<script>

var wavesurfer = WaveSurfer.create({
    container: "#waveform",
    waveColor: "#82b1ff",
    interact: false,
    barWidth: 3,
    progressColor: "#f7f7f7"
  })

  var wavesurfer2 = WaveSurfer.create({
    container: "#waveform2",
    waveColor: "#F77B72",
    interact: false,
    barWidth: 3,
    progressColor: "#f7f7f7"
  })

  wavesurfer.load("audios/01_clean.wav");
  wavesurfer2.load("audios/01.wav");

// Attach on ready listener to WaveSurfer

wavesurfer.on('ready', function () {
    // Make the container temporarily visible
    document.getElementById("hideme").style.display = '';
	document.getElementById("hideme2").style.display = '';

    // Draw the waves
    wavesurfer.drawBuffer();
	wavesurfer2.drawBuffer();

    // Hide the container once again ! Now WaveSurfer should have been rendered normally
    document.getElementById("hideme").style.display = 'none';
	document.getElementById("hideme2").style.display = 'none';

});

  function HideFunction() {
    var T = document.getElementById("hideme"),
      displayValue = "";
    if (T.style.display == "") displayValue = "none";

    T.style.display = displayValue;

    var Y = document.getElementById("myBtn"),
      displayValue = "";
    Y.style.display = "none";
  }

  function HideFunction2() {
    var T = document.getElementById("hideme2"),
      displayValue = "";
    if (T.style.display == "") displayValue = "none";

    T.style.display = displayValue;

    var Y = document.getElementById("myBtn2"),
      displayValue = "";
    Y.style.display = "none";
	}


  function showButton() {
    console.log("ended");
    var T = document.getElementById("myBtn2"),
      displayValue = "";
    T.style.display = "";

    var Y = document.getElementById("watchtoproceed"),
      displayValue = "";
    Y.style.display = "none";
  }



</script>
